:root {
  --stage-w: 1000px;
  --stage-h: 700px;
  --anim-ms: 900ms;

  --w-regular: 300;
  --w-medium: 400;
  --w-semibold: 600;

  --fs-13: 1.3rem;
  --fs-16: 1.6rem;
  --fs-20: 2rem;
  --fs-24: 2.4rem;
  --fs-32: 3.2rem;
  --fs-36: 3.6rem;

  --lh-140: 1.4;
  --track--025: -0.025em;
}

/* 전체 배경 */
body {
  margin: 0;
  min-height: 100vh;
  background-color: rgba(29, 29, 29, 1);
  background-image: url("../01.images/bg_ccl.svg");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
}

.max-frame {
  width: min(100%, 1920px);
  height: min(100vh, 1000px);
  margin: 0 auto;
  display: grid;
  place-items: center;
}

.auth-root {
  width: var(--stage-w);
}
.auth-wrap {
  position: relative;
  width: var(--stage-w);
  height: var(--stage-h);
  border-radius: 12px;
  overflow: hidden;
  background: #fff;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
}

/* 좌우 split */
.split {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
}
.split.left {
  width: 50%;
  left: 0;
  background: #000;
  color: #fff;
  z-index: 0;
}
.split.right {
  width: 50%;
  right: 0;
  left: auto;
  background: #bbbbbb;
  padding: 0;
  z-index: 1;
}

/* 좌측 고정 패널 로고 숨김(분신 제거) */
/* .split.left .logo-stack { display: none; } */

.auth-root.mode-login .split.left .logo-stack {
  display: block;      
  opacity: 0;          
  pointer-events: auto;
}

.auth-root.mode-login .split.left .logo-stack .logo-link {
  display: block;
  width: 48px;
  height: 100px;
  cursor: pointer;
}

/* 커튼은 시각용이므로 클릭 통과시킴 (뒤의 고정 로고가 클릭됨) */
.curtain, .curtain .logo-stack {
  pointer-events: none;
}

/* 로고 */
.logo-stack {
  text-align: center;
}
.logo-link {
  display: inline-block;
}
.logo-img {
  width: 48px;
  height: 100px;
  object-fit: contain;
  display: block;
}

/* 왼쪽 커튼: 폭 애니메이션 + 내부 로고는 항상 커튼의 정중앙 */
.curtain {
  position: absolute;
  inset: 0 auto 0 0;
  width: 50%;
  height: 100%;
  background: #000;
  z-index: 5;
  pointer-events: none;
  transform: translateX(0);
}
.curtain .logo-stack {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

/* 상태 고정 */
.auth-root.mode-login .curtain {
  width: 50%;
  transform: translateX(0);
}
.auth-root.mode-signup .curtain {
  width: 100%;
  transform: translateX(-100%);
}

/* 로그인 카드 */
.login-stage {
  width: 331px;
  height: 386px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}
.login-title {
  width: 331px;
  height: 28px;
  display: grid;
  place-items: center;
  color: var(--text-main1);
  font-weight: var(--w-medium);
  font-size: var(--fs-20);
  line-height: var(--lh-140);
  letter-spacing: var(--track--025);
  margin-block: 0 40px;
}
.login-fields {
  width: 331px;
  height: 194px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
}
.input-row {
  width: 330px;
  height: 40px;
  background: #fff;
  border-radius: 8px;
  display: flex;
  align-items: center;
  padding: 0 12px 0 10px;
  border: 0;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
}
.input-row + .input-row {
  margin-top: 10px;
}
.input-row input {
  color: var(--text-sub2);
}
.input-row input::placeholder {
  color: var(--text-sub2);
  opacity: 1;
}
.input-row input:focus::placeholder {
  color: var(--text-sub3);
  opacity: 0;
}
.icon {
  width: 20px;
  height: 20px;
  flex: 0 0 20px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  opacity: 0.4;
}
.icon.user {
  background-image: url("../01.images/user.svg");
}
.icon.cart {
  background-image: url("../01.images/cart.svg");
}
.vdiv {
  width: 1px;
  height: 20px;
  background: var(--text-sub1);
  margin: 0 10px;
  opacity: 0.8;
}
.input-row input {
  all: unset;
  flex: 1;
  height: 100%;
  font-size: var(--fs-13);
  font-weight: var(--w-regular);
  color: var(--text-sub2);
}
.btn-login {
  width: 330px;
  height: 40px;
  border: 0;
  border-radius: 8px;
  background: var(--text-sub3);
  color: var(--text-main2);
  font-weight: var(--w-regular);
  font-size: var(--fs-16);
  line-height: var(--lh-140);
  letter-spacing: var(--track--025);
  cursor: pointer;
  margin-top: 10px;
}
.helper-links {
  width: 221px;
  height: 27px;
  margin-top: 27px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
.helper-links a {
  text-decoration: none;
  color: var(--text-sub4);
  font-weight: var(--w-regular);
  font-size: var(--fs-13);
  line-height: var(--lh-140);
  letter-spacing: var(--track--025);
}
.helper-links .sep {
  color: var(--text-sub2);
  font-weight: var(--w-regular);
  font-size: var(--fs-16);
  line-height: var(--lh-140);
  letter-spacing: var(--track--025);
}

.sns-wrap {
  width: 330px;
  height: 74px;
  margin-top: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.sns-head {
  width: 330px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 13px;
}
.sns-head .line {
  width: 121px;
  height: 1px;
  background: var(--text-sub4);
  opacity: 0.8;
}
.sns-head .linetxt {
  width: 61px;
  height: 18px;
  color: var(--text-sub4);
  font-weight: var(--w-regular);
  font-size: var(--fs-13);
  line-height: var(--lh-140);
  letter-spacing: var(--track--025);
  opacity: 0.8;
}
.sns-icons {
  width: 260px;
  height: 36px;
  margin-top: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
}
.sns-icons a {
  width: 36px;
  height: 36px;
  display: grid;
  place-items: center;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.7);
}
.sns-icons img {
  width: 36px;
  height: 36px;
  object-fit: contain;
  display: block;
}

/* SIGN UP 공통 */
.signup-flow {
  position: absolute;
  inset: 0;
  display: none;
  background: #bbbbbb;
  padding: 33px 50px 10px;
  z-index: 2;
}
.auth-root.mode-signup .signup-flow {
  display: block;
}
.auth-root.prep-signup .signup-flow {
  display: block;
}

.auth-root.mode-signup .split.left {
  display: none;
  width: 0;
  opacity: 0;
  pointer-events: none;
}
.auth-root.mode-signup .split.right {
  width: 100%;
  left: 0;
  right: auto;
  background: #fff;
}

.sg-progress3 {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  height: 5px;
  margin: 0 0 47px;
}
.sg-progress3 .seg {
  background: var(--text-sub2);
  border-radius: 1px;
  position: relative;
  overflow: hidden;
}
.sg-progress3 .seg.fill::before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--text-sub3);
}

.sg-header {
  width: 330px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  margin-inline: auto;
  margin-block-end: 53px;
}
.sg-back {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: 0;
  font-size: 36px;
  color: var(--text-sub4);
  cursor: pointer;
}
.sg-title {
  color: var(--text-main1);
  font-weight: var(--w-medium);
  font-size: var(--fs-20);
}

.sg-step1 {
  width: 800px;
  margin-inline: auto;
}
.sg-grid {
  display: grid;
  grid-template-columns: 1fr;
  justify-items: center;
  align-items: start;
  gap: 20px;
  height: calc(100% - 80px);
}
.sg-grid.has-detail {
  grid-template-columns: 330px 450px;
  justify-items: stretch;
}
.sg-list {
  width: 330px;
  height: 44px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.term-row {
  display: flex;
  align-items: center;
  gap: 10px;
  background: var(--text-main2);
  border-radius: 8px;
  padding: 10px;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.02);
}
.term-row .check {
  width: 24px;
  height: 24px;
  display: grid;
  place-items: center;
  font-size: 22px;
  color: var(--text-sub1);
}
.term-row.checked .check {
  color: var(--text-main1);
}
.term-row .label {
  flex: 1;
  color: var(--text-main1);
  font-weight: var(--w-regular);
  font-size: var(--fs-13);
}
.term-row .chev {
  font-size: 30px;
  color: var(--text-sub3);
  line-height: 16px;
  background: none;
  border: 0;
  cursor: pointer;
  transition: transform 0.2s ease;
}
.term-row.active .chev {
  transform: rotate(90deg);
}

.sg-all {
  display: flex;
  align-items: center;
  gap: 20px;
  background: var(--text-sub2);
  border-radius: 8px;
  padding: 10px;
  margin: 0 0 98px;
}
.sg-all .label {
  color: var(--text-main2);
  font-size: 14px;
}
.sg-all .check {
  width: 24px;
  height: 24px;
  border-radius: 999px;
  border: 1px solid var(--text-main2);
  display: grid;
  place-items: center;
  font-size: 14px;
  color: var(--text-main2);
  flex: 0 0 24px;
}
.sg-all.checked .check {
  color: #111;
  border-color: #111;
}
.sg-actions {
  margin-top: auto;
}
.btn-next {
  width: 100%;
  height: 48px;
  border-radius: 8px;
  border: 0;
  background: var(--text-sub3);
  color: var(--text-main2);
  font-weight: var(--w-medium);
  font-size: var(--fs-16);
  cursor: pointer;
}
.btn-next[disabled] {
  opacity: 0.45;
  cursor: default;
}

.sg-detail {
  height: 470px;
  display: none;
  background: var(--text-main2);
  border: 1px solid var(--text-main2);
  border-radius: 8px;
  padding: 18px;
  overflow: auto;
  align-self: start;
}
.sg-detail-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}
.sg-detail-title {
  color: var(--text-sub4);
  font-weight: var(--w-medium);
  font-size: var(--fs-16);
}
.sg-detail .body {
  color: var(--text-sub2);
  font-size: var(--fs-13);
  line-height: 1.6;
  white-space: pre-line;
}
.sg-detail-close {
  background: none;
  border: 0;
  cursor: pointer;
  font-size: 28px;
  color: var(--text-main1);
}
.sg-grid.has-detail .sg-detail {
  display: block;
}

/* Step2 */
.sg-step2 {
  width: 100%;
  margin-top: -20px;
}
.sg-step2 .form {
  width: 330px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.sg-step2 .field {
  display: flex;
  flex-direction: column;
}
.sg-step2 .field > label {
  margin-bottom: 10px;
  color: var(--text-main1);
  font-weight: var(--w-regular);
  font-size: var(--fs-16);
}

.sg-step2 input[type="text"],
.sg-step2 input[type="password"],
.sg-step2 input[type="tel"],
.sg-step2 select {
  height: 44px;
  width: 100%;
  border: 0;
  border-radius: 8px;
  background: var(--text-main2);
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
  padding: 0 10px;
  font-size: 13px;
  color: var(--text-sub4);
  outline: none;
}
.sg-step2 input::placeholder {
  opacity: 1;
}
.sg-step2 input:focus::placeholder {
  opacity: 0;
}

.sg-step2 .row {
  display: grid;
  grid-template-columns: 1fr 110px;
  gap: 10px;
  align-items: center;
}
.sg-step2 .grid-3 {
  display: grid;
  grid-template-columns: 145px 24px 140px;
  gap: 10px;
  align-items: center;
}
.sg-step2 .grid-3 > div {
  text-align: center;
  color: #8c8f94;
  font-weight: var(--w-regular);
  font-size: var(--fs-16);
}
.sg-step2 .grid-2 {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}

.sg-step2 .btn {
  width: 110px;
  height: 44px;
  border: 0;
  border-radius: 8px;
  background: var(--text-sub1);
  color: var(--text-sub3);
  font-size: var(--fs-13);
  font-weight: var(--w-medium);
  cursor: pointer;
}
.sg-step2 .hint {
  margin-top: 5px;
  color: #6a6d72;
  font-size: var(--fs-13);
  font-weight: var(--w-regular);
}

.sg-step2 .submit {
  width: 100%;
  height: 48px;
  border: 0;
  border-radius: 12px;
  background: #0f0f12;
  color: #fff;
  font-weight: 700;
  cursor: pointer;
  margin-top: 10px;
}
.sg-step2 .submit[disabled] {
  opacity: 0.45;
  cursor: default;
}

/* 완료 화면 */
.complete {
  position: absolute;
  inset: 0;
  display: none;
  grid-template-columns: 1fr 1fr;
  z-index: 3;
}
.complete .left {
  background: #c4c4c4;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px;
  gap: 25px;
}
.left-title {
  color: #0f0f12;
  font-weight: var(--w-medium);
  font-size: var(--fs-24);
  margin-bottom: 15px;
}
.complete .desc {
  width: 320px;
  height: 68px;
  text-align: center;
  color: #383838;
  font-size: var(--fs-13);
}
.complete .desc .desc-t {
  display: inline-block;
  margin: 0 0 10px;
  color: #000;
  font-size: var(--fs-16);
  font-weight: var(--w-medium);
}
.complete .cta {
  width: 320px;
  height: 48px;
  border: 0;
  border-radius: 8px;
  background: var(--text-sub3);
  color: var(--text-main2);
  font-size: var(--fs-16);
  font-weight: var(--w-medium);
  cursor: pointer;
}
.complete .right {
  background: #000;
  color: #fff;
  display: grid;
  place-items: center;
}

/* 봉투 */
.envelope-stack {
  position: relative;
  width: 162px;
  height: 145px;
  padding: 0;
  border: 0;
  background: transparent;
  cursor: pointer;
  filter: drop-shadow(0 12px 20px rgba(0, 0, 0, 0.22));
  overflow: hidden;
}
.envelope-stack img {
  display: block;
  user-select: none;
  pointer-events: none;
}
.envelope-stack .env-back,
.envelope-stack .letter,
.envelope-stack .env-front {
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%);
}
.envelope-stack .env-back {
  z-index: 1;
}
.envelope-stack .env-front {
  z-index: 3;
  margin-bottom: -3px;
}
.envelope-stack .letter {
  z-index: 2;
  opacity: 0.96;
  transform: translate(-50%, 55px);
  transition: transform 0.35s ease, opacity 0.25s ease;
  border-radius: 10px;
}
.envelope-stack.peek .letter {
  transform: translate(-50%, 0);
}

/* 오른쪽 커튼 */
.curtainR {
  position: absolute;
  inset: 0 0 0 auto;
  right: 0;
  width: 50%;
  height: 100%;
  background: #111;
  display: grid;
  place-items: center;
  z-index: 6;
  pointer-events: none;
  transform: translateX(100%);
  visibility: hidden;
  will-change: transform, width;
  transform-origin: right center;
}
@keyframes wipeFromRightToHalf {
  0% {
    width: 50%;
    transform: translateX(100%);
  }
  50% {
    width: 100%;
    transform: translateX(0);
  }
  100% {
    width: 50%;
    transform: translateX(0);
  }
}
.curtainR.anim-to-complete {
  animation: wipeFromRightToHalf var(--anim-ms) ease-in-out forwards;
  visibility: visible;
}

/* 왼쪽 커튼 애니메이션 — 폭(width)으로 동기화 */
@keyframes wipeToSignupWide {
  0% {
    width: 50%;
    transform: translateX(0);
  }
  50% {
    width: 100%;
    transform: translateX(0);
  }
  100% {
    width: 100%;
    transform: translateX(-100%);
  }
}
@keyframes wipeBackToLoginWide {
  0% {
    width: 100%;
    transform: translateX(-100%);
  }
  50% {
    width: 100%;
    transform: translateX(0);
  }
  100% {
    width: 50%;
    transform: translateX(0);
  }
}
.curtain.anim-to-signup {
  animation: wipeToSignupWide var(--anim-ms) ease-in-out forwards;
}
.curtain.anim-to-login {
  animation: wipeBackToLoginWide var(--anim-ms) ease-in-out forwards;
}


@keyframes logoLagToSignup {
  0% {
    left: 50%;
  } /* 로그인 상태(커튼 50%) */
  50% {
    left: 50%;
  } /* 커튼이 100%로 펼쳐져 중앙 도달 */
  65% {
    left: 55%;
  } /* 퇴장 초반에 오른쪽으로 빨리 이동해 상대 속도를 감소 */
  100% {
    left: 100%;
  } /* 끝날수록 조금만 더 이동(자연스럽게 마무리) */
}
.curtain.anim-to-signup .logo-stack {
  animation: logoLagToSignup var(--anim-ms) linear; /* forwards 안 씀: 끝나면 다시 50%로 복귀 */
}

.auth-root.prep-login .split.left {
  display: grid !important;
  width: 50% !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}
.auth-root.prep-login .split.right {
  width: 50% !important;
  right: 0 !important;
  left: auto !important;
  background: #bbbbbb !important;
}
.auth-root.prep-login .signup-flow {
  display: none !important;
}

.auth-root.mode-login .signup-flow,
.auth-root.mode-login .complete {
  display: none !important;
}

/* ===== 도메인 토글 박스 ===== */
.domain-wrap {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 28px;
  align-items: center;
}
#emailDomainSel {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: none;
}
#emailDomainSel,
#emailDomainCustom {
  height: 44px;
  width: 100%;
  border: 0;
  border-radius: 8px 0 0 8px;
  background: #fff;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
  padding: 0 10px;
  font-size: 13px;
  color: #6a6d72;
  outline: none;
}
#emailDomainCustom {
  display: none;
}
.domain-toggle {
  height: 44px;
  width: 28px;
  border: 0;
  border-radius: 0 8px 8px 0;
  background: #fff;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.04);
  cursor: pointer;
  display: grid;
  place-items: center;
  font-size: 16px;
  color: #8c8f94;
}
.domain-wrap.custom #emailDomainSel {
  display: none;
}
.domain-wrap.custom #emailDomainCustom {
  display: block;
}
